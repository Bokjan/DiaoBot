CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(DiaoBotSDK)

SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_CXX_FLAGS "-Wall")
SET(CMAKE_EXE_LINKER_FLAGS ${CMAKE_EXE_LINKER_FLAGS} "-static")
IF(CMAKE_BUILD_TYPE MATCHES DEBUG)
    SET(CMAKE_CXX_FLAGS ${APP_SOURCES} "-DDEBUG")
ENDIF(CMAKE_BUILD_TYPE MATCHES DEBUG)

INCLUDE_DIRECTORIES(./include)

# cURL (manually built static library)
INCLUDE_DIRECTORIES(/data/builds/include)
LINK_LIBRARIES(/data/builds/lib/libcurl.a)

LINK_LIBRARIES(pthread dl z)

FILE(GLOB APP_SOURCES "./*.cpp")

ADD_LIBRARY(diaobot STATIC ${APP_SOURCES})